"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4806],{46745:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(87757),o=a.n(n),r=a(20629),s=a(74865),i=a.n(s);function l(e,t,a,n,o,r,s){try{var i=e[r](s),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const m={metaInfo:{title:"System Settings"},data:function(){return{isLoading:!0,data:new FormData,settings:[],currencies:[],clients:[],warehouses:[],sms_gateway:[],zones_array:[],setting:{client_id:"",warehouse_id:"",currency_id:"",email:"",logo:"",CompanyName:"",CompanyPhone:"",CompanyAdress:"",footer:"",developed_by:"",default_language:"",sms_gateway:"",is_invoice_footer:"",invoice_footer:""}}},methods:d(d({},(0,r.nv)(["refreshUserPermissions"])),{},{SetLocal:function(e){this.$i18n.locale=e,this.$store.dispatch("language/setLanguage",e),Fire.$emit("ChangeLanguage")},Submit_Setting:function(){var e=this;this.$refs.form_setting.validate().then((function(t){t?e.Update_Settings():e.makeToast("danger",e.$t("Please_fill_the_form_correctly"),e.$t("Failed"))}))},makeToast:function(e,t,a){this.$root.$bvToast.toast(t,{title:a,variant:e,solid:!0})},getValidationState:function(e){var t=e.dirty,a=e.validated,n=e.valid;return t||a?void 0===n?null:n:null},onFileSelected:function(e){var t,a=this;return(t=o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.$refs.Logo.validate(e);case 2:n=t.sent,r=n.valid,a.setting.logo=r?e.target.files[0]:"";case 5:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(n,o){var r=t.apply(e,a);function s(e){l(r,n,o,s,i,"next",e)}function i(e){l(r,n,o,s,i,"throw",e)}s(void 0)}))})()},Selected_Time_Zone:function(e){null===e&&(this.setting.timezone="")},Update_Settings:function(){var e=this;i().start(),i().set(.1);var t=this;t.data.append("client",t.setting.client_id),t.data.append("warehouse",t.setting.warehouse_id),t.data.append("currency",t.setting.currency_id),t.data.append("email",t.setting.email),t.data.append("logo",t.setting.logo),t.data.append("CompanyName",t.setting.CompanyName),t.data.append("CompanyPhone",t.setting.CompanyPhone),t.data.append("CompanyAdress",t.setting.CompanyAdress),t.data.append("footer",t.setting.footer),t.data.append("developed_by",t.setting.developed_by),t.data.append("default_language",t.setting.default_language),t.data.append("sms_gateway",t.setting.sms_gateway),t.data.append("is_invoice_footer",t.setting.is_invoice_footer),t.data.append("invoice_footer",t.setting.invoice_footer),t.data.append("timezone",t.setting.timezone),t.data.append("_method","put"),axios.post("settings/"+t.setting.id,t.data).then((function(a){Fire.$emit("Event_Setting"),e.makeToast("success",e.$t("Successfully_Updated"),e.$t("Success")),e.refreshUserPermissions(),i().done(),e.SetLocal(t.setting.default_language)})).catch((function(t){e.makeToast("danger",e.$t("InvalidData"),e.$t("Failed")),i().done()}))},Clear_Cache:function(){var e=this;i().start(),i().set(.1),axios.get("clear_cache").then((function(t){e.makeToast("success",e.$t("Cache_cleared_successfully"),e.$t("Success")),i().done()})).catch((function(t){i().done(),e.makeToast("danger",e.$t("Failed_to_clear_cache"),e.$t("Failed"))}))},Get_Settings:function(){var e=this;axios.get("get_Settings_data").then((function(t){e.setting=t.data.settings,e.currencies=t.data.currencies,e.clients=t.data.clients,e.warehouses=t.data.warehouses,e.sms_gateway=t.data.sms_gateway,e.zones_array=t.data.zones_array,e.isLoading=!1})).catch((function(t){setTimeout((function(){e.isLoading=!1}),500)}))}}),created:function(){var e=this;this.Get_Settings(),Fire.$on("Event_Setting",(function(){e.Get_Settings()}))}};const f=(0,a(51900).Z)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-content"},[a("breadcumb",{attrs:{page:e.$t("SystemSettings"),folder:e.$t("Settings")}}),e._v(" "),e.isLoading?a("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):e._e(),e._v(" "),e.isLoading?e._e():a("validation-observer",{ref:"form_setting"},[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.Submit_Setting.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[a("b-card",{attrs:{"no-body":"",header:e.$t("SystemSettings")}},[a("b-card-body",[a("b-row",[a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("b-form-group",{attrs:{label:e.$t("DefaultCurrency")}},[a("v-select",{attrs:{reduce:function(e){return e.value},placeholder:e.$t("Choose_Currency"),options:e.currencies.map((function(e){return{label:e.name,value:e.id}}))},model:{value:e.setting.currency_id,callback:function(t){e.$set(e.setting,"currency_id",t)},expression:"setting.currency_id"}})],1)],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("validation-provider",{attrs:{name:"Email",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("DefaultEmail")+" *"}},[a("b-form-input",{attrs:{state:e.getValidationState(t),"aria-describedby":"Email-feedback",label:"Email",placeholder:e.$t("DefaultEmail")},model:{value:e.setting.email,callback:function(t){e.$set(e.setting,"email",t)},expression:"setting.email"}}),e._v(" "),a("b-form-invalid-feedback",{attrs:{id:"Email-feedback"}},[e._v(e._s(t.errors[0]))])],1)]}}],null,!1,4279491894)})],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("validation-provider",{ref:"Logo",attrs:{name:"Logo",rules:"mimes:image/*|size:200"},scopedSlots:e._u([{key:"default",fn:function(t){t.validate;var n=t.valid,o=t.errors;return a("b-form-group",{attrs:{label:e.$t("ChangeLogo")}},[a("input",{class:{"is-invalid":!!o.length},attrs:{state:!o[0]&&(!!n||null),label:"Choose Logo",type:"file"},on:{change:e.onFileSelected}}),e._v(" "),a("b-form-invalid-feedback",{attrs:{id:"Logo-feedback"}},[e._v(e._s(o[0]))])],1)}}],null,!1,3189141354)})],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("validation-provider",{attrs:{name:"Company Name",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("CompanyName")+" *"}},[a("b-form-input",{attrs:{state:e.getValidationState(t),"aria-describedby":"Company-feedback",label:"Company Name",placeholder:e.$t("CompanyName")},model:{value:e.setting.CompanyName,callback:function(t){e.$set(e.setting,"CompanyName",t)},expression:"setting.CompanyName"}}),e._v(" "),a("b-form-invalid-feedback",{attrs:{id:"Company-feedback"}},[e._v(e._s(t.errors[0]))])],1)]}}],null,!1,1317089302)})],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("validation-provider",{attrs:{name:"Company Phone",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("CompanyPhone")+" *"}},[a("b-form-input",{attrs:{state:e.getValidationState(t),"aria-describedby":"Phone-feedback",label:"Company Phone",placeholder:e.$t("CompanyPhone")},model:{value:e.setting.CompanyPhone,callback:function(t){e.$set(e.setting,"CompanyPhone",t)},expression:"setting.CompanyPhone"}}),e._v(" "),a("b-form-invalid-feedback",{attrs:{id:"Phone-feedback"}},[e._v(e._s(t.errors[0]))])],1)]}}],null,!1,1395357846)})],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("validation-provider",{attrs:{name:"developed by",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("developed_by")+" *"}},[a("b-form-input",{staticClass:"form-control",attrs:{state:e.getValidationState(t),"aria-describedby":"developed_by-feedback"},model:{value:e.setting.developed_by,callback:function(t){e.$set(e.setting,"developed_by",t)},expression:"setting.developed_by"}}),e._v(" "),a("b-form-invalid-feedback",{attrs:{id:"developed_by-feedback"}},[e._v(e._s(t.errors[0]))])],1)]}}],null,!1,4204870398)})],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("validation-provider",{attrs:{name:"footer",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("footer")+" *"}},[a("b-form-input",{staticClass:"form-control",attrs:{state:e.getValidationState(t),"aria-describedby":"footer-feedback"},model:{value:e.setting.footer,callback:function(t){e.$set(e.setting,"footer",t)},expression:"setting.footer"}}),e._v(" "),a("b-form-invalid-feedback",{attrs:{id:"footer-feedback"}},[e._v(e._s(t.errors[0]))])],1)]}}],null,!1,3264557662)})],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("validation-provider",{attrs:{name:"DefaultLanguage",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.valid,o=t.errors;return a("b-form-group",{attrs:{label:e.$t("DefaultLanguage")+" *"}},[a("v-select",{class:{"is-invalid":!!o.length},attrs:{state:!o[0]&&(!!n||null),reduce:function(e){return e.value},placeholder:e.$t("DefaultLanguage"),options:[{label:"English",value:"en"},{label:"French",value:"fr"},{label:"Arabic",value:"ar"},{label:"Turkish",value:"tur"},{label:"Simplified Chinese",value:"sm_ch"},{label:"ThaÃ¯",value:"thai"},{label:"Hindi",value:"hn"},{label:"German",value:"de"},{label:"Spanish",value:"es"},{label:"Italien",value:"it"},{label:"Indonesian",value:"Ind"},{label:"Traditional Chinese",value:"tr_ch"},{label:"Russian",value:"ru"},{label:"Vietnamese",value:"vn"},{label:"Korean",value:"kr"},{label:"Bangla",value:"ba"},{label:"Portuguese",value:"br"}]},model:{value:e.setting.default_language,callback:function(t){e.$set(e.setting,"default_language",t)},expression:"setting.default_language"}}),e._v(" "),a("b-form-invalid-feedback",[e._v(e._s(o[0]))])],1)}}],null,!1,2203618148)})],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("b-form-group",{attrs:{label:e.$t("DefaultCustomer")}},[a("v-select",{attrs:{reduce:function(e){return e.value},placeholder:e.$t("Choose_Customer"),options:e.clients.map((function(e){return{label:e.name,value:e.id}}))},model:{value:e.setting.client_id,callback:function(t){e.$set(e.setting,"client_id",t)},expression:"setting.client_id"}})],1)],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("b-form-group",{attrs:{label:e.$t("DefaultWarehouse")}},[a("v-select",{attrs:{reduce:function(e){return e.value},placeholder:e.$t("Choose_Warehouse"),options:e.warehouses.map((function(e){return{label:e.name,value:e.id}}))},model:{value:e.setting.warehouse_id,callback:function(t){e.$set(e.setting,"warehouse_id",t)},expression:"setting.warehouse_id"}})],1)],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("b-form-group",{attrs:{label:e.$t("Default_SMS_Gateway")}},[a("v-select",{attrs:{reduce:function(e){return e.value},placeholder:e.$t("Choose_SMS_Gateway"),options:e.sms_gateway.map((function(e){return{label:e.title,value:e.id}}))},model:{value:e.setting.sms_gateway,callback:function(t){e.$set(e.setting,"sms_gateway",t)},expression:"setting.sms_gateway"}})],1)],1),e._v(" "),a("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[a("b-form-group",{attrs:{label:e.$t("Time_Zone")}},[a("v-select",{attrs:{placeholder:e.$t("Time_Zone"),reduce:function(e){return e.value},options:e.zones_array.map((function(e){return{label:e.label,value:e.zone}}))},on:{input:e.Selected_Time_Zone},model:{value:e.setting.timezone,callback:function(t){e.$set(e.setting,"timezone",t)},expression:"setting.timezone"}})],1)],1),e._v(" "),a("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[a("validation-provider",{attrs:{name:"Adress",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("Adress")+" *"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.setting.CompanyAdress,expression:"setting.CompanyAdress"}],staticClass:"form-control",attrs:{state:e.getValidationState(t),"aria-describedby":"Adress-feedback",placeholder:e.$t("Afewwords")},domProps:{value:e.setting.CompanyAdress},on:{input:function(t){t.target.composing||e.$set(e.setting,"CompanyAdress",t.target.value)}}}),e._v(" "),a("b-form-invalid-feedback",{attrs:{id:"Adress-feedback"}},[e._v(e._s(t.errors[0]))])],1)]}}],null,!1,758978009)})],1),e._v(" "),a("b-col",{staticClass:"mt-4 mb-4",attrs:{md:"2",sm:"2"}},[a("label",{staticClass:"checkbox checkbox-primary mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.setting.is_invoice_footer,expression:"setting.is_invoice_footer"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.setting.is_invoice_footer)?e._i(e.setting.is_invoice_footer,null)>-1:e.setting.is_invoice_footer},on:{change:function(t){var a=e.setting.is_invoice_footer,n=t.target,o=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&e.$set(e.setting,"is_invoice_footer",a.concat([null])):r>-1&&e.$set(e.setting,"is_invoice_footer",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.setting,"is_invoice_footer",o)}}}),a("h5",[e._v(e._s(e.$t("invoice_footer"))+" ")]),a("span",{staticClass:"checkmark"})])]),e._v(" "),e.setting.is_invoice_footer?a("b-col",{staticClass:"mt-4 mb-4",attrs:{md:"6",sm:"6"}},[a("validation-provider",{attrs:{name:"invoice_footer",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{attrs:{label:e.$t("invoice_footer")+" *"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.setting.invoice_footer,expression:"setting.invoice_footer"}],staticClass:"form-control",attrs:{state:e.getValidationState(t),"aria-describedby":"invoice_footer-feedback",placeholder:e.$t("invoice_footer")},domProps:{value:e.setting.invoice_footer},on:{input:function(t){t.target.composing||e.$set(e.setting,"invoice_footer",t.target.value)}}}),e._v(" "),a("b-form-invalid-feedback",{attrs:{id:"invoice_footer-feedback"}},[e._v(e._s(t.errors[0]))])],1)]}}],null,!1,4052989155)})],1):e._e(),e._v(" "),a("b-col",{attrs:{md:"12"}},[a("b-form-group",[a("b-button",{attrs:{variant:"primary",type:"submit"}},[e._v(e._s(e.$t("submit")))])],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),e.isLoading?e._e():a("b-form",{on:{submit:function(t){return t.preventDefault(),e.Clear_Cache.apply(null,arguments)}}},[a("b-row",{staticClass:"mt-5"},[a("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[a("b-card",{attrs:{"no-body":"",header:e.$t("Clear_Cache")}},[a("b-card-body",[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form-group",[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.Clear_Cache()}}},[e._v(e._s(e.$t("Clear_Cache")))])],1)],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);